# v1.7 Content Audit - Manual Test Checklist

**Status**: All code fixes committed in `31b42f4`
**Environment Issue**: Flask-SocketIO/eventlet prevents automated testing - manual validation required

## Quick Start

```bash
# Terminal 1: Start server (FOREGROUND ONLY - background mode hangs)
python3 run_server.py

# Terminal 2: Open browser to the IP shown (e.g., http://192.168.1.159:5001)
# Create game, note room code, join with 2-4 players (tabs or phones)
```

## ‚úÖ What to Verify (All 5 Content Fixes)

### 1. Poll Questions - Tamer Warm-Up (ISSUE #1)
**Expected**: Early voting rounds should include level 4-6 questions before escalating to level 8-10

**Test**:
- [ ] Play a 15-question game
- [ ] Check first 1-2 voting questions are tamer (level 4-6)
- [ ] Examples to look for:
  - "Who's most likely to binge-watch an entire series in one night?"
  - "Who's most likely to forget someone's name right after being introduced?"
  - "Who's most likely to cancel plans last minute?"
- [ ] Later voting questions escalate to savage level 8-10

**Pass Criteria**: Game starts with relatable questions, not immediately savage

---

### 2. Personalized Questions - Higher Frequency (ISSUE #2)
**Expected**: 2-3 personalized questions per game (up from 0-1)

**Test**:
- [ ] Play a 15-question game with personalized data loaded
- [ ] Count how many personalized/roast questions appear
- [ ] Should see 3 personalized questions in 15-question game
- [ ] Should see 2 personalized questions in 10-14 question game

**Pass Criteria**: At least 2 personalized questions appear in a full game

**Note**: Personalized questions require `friend_group_data.csv` to be loaded. Server logs will show:
```
‚úÖ Personalized question generator loaded!
```

---

### 3. Sex Trivia - MORE Shock, LESS Education (ISSUE #3)
**Expected**: Modern slang and shock value instead of educational content

**Test**:
- [ ] Play game with sex trivia questions enabled
- [ ] Verify questions focus on modern dating/hookup slang:
  - "What does 'DTF' stand for?" ‚Üí Down To F*ck
  - "What's a 'sneaky link'?" ‚Üí Secret hookup
  - "What does 'body count' refer to?" ‚Üí Number of sex partners
  - "What's a 'walk of shame'?" ‚Üí Going home in last night's clothes
- [ ] NO educational STI/anatomy questions

**Pass Criteria**: Sex trivia is spicy slang, not health class

---

### 4. Regular Trivia - Expanded Pool (ISSUE #4)
**Expected**: 58 total questions (up from 10) for better replayability

**Test**:
- [ ] Play 2-3 full games back-to-back
- [ ] Track which regular trivia questions appear
- [ ] Should see variety across categories:
  - Geography trick questions ("Capital of Australia?" ‚Üí Canberra not Sydney)
  - Science facts ("Largest desert?" ‚Üí Antarctic Desert)
  - History, Math, Literature mix
- [ ] Low question repetition across multiple games

**Pass Criteria**: Minimal repetition, diverse question categories

---

### 5. PII Filter - Receipt Privacy (ISSUE #5)
**Expected**: Phone numbers, emails, addresses automatically filtered from chat receipts

**Test**:
- [ ] Play game with receipt questions enabled
- [ ] Check displayed receipt text for sanitization:
  - Phone numbers ‚Üí `[PHONE NUMBER]`
  - Emails ‚Üí `[EMAIL]`
  - Street addresses ‚Üí `[ADDRESS]`
  - Zip codes ‚Üí `[ZIP]`
- [ ] Receipts should still be funny/readable with PII removed

**Pass Criteria**: No raw phone numbers, emails, or addresses visible in receipt questions

**Note**: Receipt questions pull from `archive/private_data/icloud_messages.csv` (if available)

---

## üéÆ Full Game Test Plan

**Recommended**: 15-question game with 4 players (Lauren, Benny, Gina, Ian)

### Expected Question Mix (15 questions):
- **3 Receipt questions** (with PII filtered)
- **4 Sex trivia** (shock-focused slang)
- **5 Regular trivia** (from 58-question pool)
- **2 Voting/poll** (including tamer warm-ups)
- **1 Discussion** question

### During Gameplay:
1. **Check browser console** (F12 ‚Üí Console tab)
   - [ ] No JavaScript errors
   - [ ] WebSocket connection stable
   - [ ] Question loading smooth

2. **Verify question flow**
   - [ ] Questions advance automatically after timer
   - [ ] Answers submit correctly
   - [ ] Scores update in real-time
   - [ ] Host controls work (skip, reveal, etc.)

3. **Test all player roles**
   - [ ] Host can control game flow
   - [ ] Players can submit answers
   - [ ] Voting works (all players vote on "most likely" questions)
   - [ ] Final scores display correctly

---

## üêõ Known Issues to Watch For

### Flask-SocketIO/Eventlet
- **Symptom**: Server starts but hangs, doesn't respond to HTTP
- **Workaround**: Only run server in **foreground mode** (not background with `&`)
- **Log warning**: You'll see urllib3 SSL warning - this is expected, ignore it

### CSV File Paths
If server logs show:
```
‚ö†Ô∏è  Sex trivia CSV not found at sex_trivia_questions.csv
‚ö†Ô∏è  Regular trivia CSV not found at regular_trivia_questions.csv
‚ö†Ô∏è  Poll questions CSV not found at poll_questions.csv
```

**Fix**: CSV files are in `archive/private_data/` - check generator code points to correct path

---

## ‚úÖ Success Criteria

All 5 issues resolved when:
- [x] Poll questions start tame (level 4-6), escalate later
- [x] 2-3 personalized questions appear per game
- [x] Sex trivia is shock/slang focused, not educational
- [x] Regular trivia shows variety across multiple games (58-question pool)
- [x] Receipt questions have PII filtered ([PHONE NUMBER], [EMAIL], etc.)

**Plus**:
- [ ] No browser console errors
- [ ] Smooth gameplay from start to finish
- [ ] All player interactions work correctly
- [ ] Game is fun and feels balanced

---

## üìä After Testing

When manual validation passes:
1. Tag the release: `git tag v1.7-content-audit`
2. Update docs/audits/AUDIT_V1.7_CONTENT_AND_GAMEPLAY.md with test results
3. Mark as **PRODUCTION READY** üéâ

---

## üîó Related Files

- **Question CSVs**: `archive/private_data/*.csv`
- **Generator Code**: `backend/app/generators/question_generator.py`
- **Test Scripts**: `archive/demo_scripts/full_game_simulation.py`
- **Security Audit**: `docs/audits/AUDIT_V1.6_PROMPT.md`

---

**Last Updated**: 2025-11-11
**Commit**: `31b42f4` - "üéÆ CONTENT AUDIT: Fix all 5 gameplay issues for v1.7"
